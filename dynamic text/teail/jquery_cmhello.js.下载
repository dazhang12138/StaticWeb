$(document).ready(function(){$("#navmenu ul li:has(ul)").hover(function() {$(this).children("a").css({color:"#fff"});if($(this).find("li").length > 0){$(this).children("ul").stop(true, true).slideDown(100)} },function() {$(this).children("a").css({color:"#b4ab93"});$(this).children("ul").stop(true, true).slideUp("fast")});})
$(document).ready(function() {	getsiteID = $('div.site_nav1, div.site_nav2').attr('id');$('div.site_nav dl a').each(function() {getNavClass = $(this).attr('class');if (getNavClass == getsiteID) {$('div.site_nav dl a').removeClass('cur');$(this).addClass('cur') }});
$('div.hot_box a.title, div.index_art li a, ul.index_resourse_list a,#new_art ul li,#hot_art ul li,#rand_art ul li').hover(function(){$(this).animate({paddingLeft: "20px"},300);},function(){$(this).animate({paddingLeft: "15px"},300);	 });//hotbox										
$("div.tip_trigger a.img").hover(function(){$(this).parent('div.tip_trigger').css({'background':'#e23a0a','z-index':'1000'});$('#h_coolsite .block').show();tip = $(this).siblings('.tip');tip.show(); }, function() {$(this).parent('div.tip_trigger').css({'background':'none','z-index':'0'});$('#h_coolsite .block').hide();tip.hide(); }) });
//侧栏头像
$(document).ready(function(){$('#respond').hover(function() {$(this).find('.set_avatar').stop(true,true).fadeIn();},function() {$(this).find('.set_avatar').stop(true,true).fadeOut();});});
//返回顶部
jQuery(document).ready(function($) {$body = (window.opera) ? (document.compatMode == "CSS1Compat" ? $("html") : $("body")) : $("html,body");$("#shang").mouseover(function() {up()}).mouseout(function() {clearTimeout(fq)}).click(function() {$body.animate({scrollTop: 0},400)});$("#xia").mouseover(function() {dn()}).mouseout(function() {clearTimeout(fq)}).click(function() {$body.animate({scrollTop: $(document).height()},400)});$("#cmmt").click(function() {$body.animate({scrollTop: $("#comments").offset().top},400)});});function up() {$wd = $(window);$wd.scrollTop($wd.scrollTop() - 1);fq = setTimeout("up()", 50)};function dn() {$wd = $(window);$wd.scrollTop($wd.scrollTop() + 1);fq = setTimeout("dn()", 50)}; 
//评论头像
function gravatarimg(){var start="http://www.gravatar.com/avatar/";var end="?s=40&d=mm&r=G";var mail=commentform.commail.value;var md5mail=hex_md5(mail);var all=start+md5mail+end;document.gravarimg.src=all;}
//图片颤动
eval(function(p,a,c,k,e,d){e=function(c){return c.toString(36)};if(!''.replace(/^/,String)){while(c--){d[c.toString(a)]=k[c]||c.toString(a)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('0 3=["g","f"],7=e,b=h;5 d(2,4){0 c=1.9(1.8()*7);0 a=1.9(1.8()*3.m);2["k"][3[a]]=""+c+"l";0 6=j(5(){d(2,4)},b);2[4]=5(){i(6)}}',23,23,'var|Math|o|typ|end|function|shakeTimer|rangeN|random|floor|typN|timeout|range|shake|10|marginLeft|marginTop|20|clearTimeout|setTimeout|style|px|length'.split('|'),0,{}))
//图片抖动
function JumpObj(elem,range,startFunc,endFunc){var curMax=range=range||6;startFunc=startFunc||function(){};endFunc=endFunc||function(){};var drct=0;var step=1;init();function init(){elem.style.position='relative';active()};function active(){elem.onmouseover=function(e){if(!drct)jump()}};function deactive(){elem.onmouseover=null};function jump(){var t=parseInt(elem.style.top);if(!drct)motionStart();else{var nextTop=t-step*drct;if(nextTop>=-curMax&&nextTop<=0)elem.style.top=nextTop+'px';else if(nextTop<-curMax)drct=-1;else{var nextMax=curMax/2;if(nextMax<1){motionOver();return};curMax=nextMax;drct=1}};setTimeout(function(){jump()},200/(curMax+3)+drct*3)};function motionStart(){startFunc.apply(this);elem.style.top='0';drct=1};function motionOver(){endFunc.apply(this);curMax=range;drct=0;elem.style.top='0'};this.jump=jump;this.active=active;this.deactive=deactive};$(function(){$(".more,#contact-li li img,#blogsort li img,#real-avatar .avatar,.r_comments li img,.r_comments li p img,.commentlist p img,ol.commentlist li div.vcard img.avatar,.art_title span.face_img img,#tw ul li .main_img").each(function(k,img){new JumpObj(img,5)})});
//字数统计
$(function(){var $comment=$('#comment');var $str=$('#str');var time;$comment.focus(function(){time=window.setInterval(substring,100)});function substring(){var val=$comment.val();var length=val.length;if($str.html()!=(length)){if(length==0){$("#wordcount")[0].firstChild.nodeValue="您已经输入";$str.html(length)}else{$("#wordcount")[0].firstChild.nodeValue="您已经输入";$str.html(length)}}}});
//主页收藏
$("#favmy").click(function(){var url=window.location.href;try{window.external.addFavorite(url,document.title)}catch(err){try{window.sidebar.addPanel(document.title,url,"")}catch(err){alert("请使用Ctrl+D收藏本页面。")}}});$("#index_page").click(function(){var url=window.location.href;try{this.style.behavior='url(#default#homepage)';this.setHomePage(url)}catch(e){if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(e){alert("抱歉，此操作被浏览器拒绝！\n\n请在浏览器地址栏输入\"about:config\"并回车然后将[signed.applets.codebase_principal_support]设置为'true'")}}else{alert("抱歉，您所使用的浏览器无法完成此操作。\n\n您需要手动将【"+url+"】设置为主页。")}}});
//文字大小
function doZoom(size){document.getElementById('zoom').style.fontSize=size+'px';}
//侧栏文章
$(document).ready(function(){$('#new_art').show();pn=0;$("ul.sj_nav li a").click(function(){var i=$(this).attr("option");if(i=="new_art"){pn=0}else if(i=="hot_art"){pn=1}else if(i=="rand_art"){pn=2}$("#tab_show div").hide();$("#tab_show div:eq("+pn+")").fadeIn(300);$("ul.sj_nav li a").removeClass("active");$(this).addClass("active")});tabshow=setInterval("showAutotabshow()",5000);$("#tab_show div").hover(function(){clearInterval(tabshow)},function(){tabshow=setInterval("showAutotabshow()",5000)})});function showAutotabshow(){pn=pn>=2?0:++pn;$("ul.sj_nav li:eq("+pn+") a").trigger('click')}
//title美化
jQuery(document).ready(function($){var sweetTitles={x:10,y:20,tipElements:"a,span,div ",noTitle:false,init:function(){var noTitle=this.noTitle;$(this.tipElements).each(function(){$(this).mouseover(function(e){if(noTitle){isTitle=true}else{isTitle=$.trim(this.title)!=''}if(isTitle){this.myTitle=this.title;this.title="";var tooltip="<div class='tooltip'><div class='tipsy-arrow tipsy-arrow-n'></div><div class='tipsy-inner'>"+this.myTitle+"</div></div>";$('body').append(tooltip);$('.tooltip').css({"top":(e.pageY+20)+"px","left":(e.pageX-20)+"px"}).fadeIn("slow")}}).mouseout(function(){if(this.myTitle!=null){this.title=this.myTitle;$('.tooltip').remove()}}).mousemove(function(e){$('.tooltip').css({"top":(e.pageY+20)+"px","left":(e.pageX-20)+"px"})})})}};$(function(){sweetTitles.init()})});
// 点赞

$(function(){$(".praise-praise").on('click',function(){$.get("article.html",{action:'praise',id:$(".praise").attr('data-val')},function(data){praise();});});});
// 踩
$(function(){$(".praise-tread").on('click',function(){$.get("article.html",{action:'tread',id:$(".praise").attr('data-val')},function(data){praise();});});});
// 点赞和踩效果
function praise(){$('.praise-css').animate({opacity:'show',top:"-30px",},1000,'linear',function(){$(this).css('display','none');$(this).css('top','0px');});}
var getFormData = function () {var data = { loop: true, in: {}, out: {}};data['in']['effect'] = 'fadeInLeftBig';data['out']['effect'] = 'fadeOutUp';data["in"].shuffle = 'shuffle';data["out"].shuffle = 'shuffle';return data;};var obj = getFormData();

